---
// Get current locale from URL path or default to 'en'
const currentPathname = Astro.url.pathname;
const currentLocale = currentPathname.startsWith('/pt') ? 'pt' : 'en';
const content = await import(`../content/property/${currentLocale}.json`).then(module => module.default);
const { title, address, gmapsEmbedUrl } = content.map;
---

<section id="map" class="py-12 md:py-16 bg-white">
    <div class="container-custom">
        <h2 class="section-title">{title}</h2>
        <p class="text-center text-gray-600 mb-6">{address}</p>
        <div class="aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-xl">
            <iframe
                    src={gmapsEmbedUrl}
                    width="100%"
                    height="450"
                    style="border:0;"
                    allowfullscreen=""
                    loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"
                    title="Property Location Map"
            ></iframe>
        </div>
    </div>
</section>
