---
interface DescriptionContent {
    description: {
        title: string;
        paragraphs: string[];
    };
    [key: string]: any;
}

// Get current locale from URL path or default to 'en'
const currentPathname = Astro.url.pathname;
const currentLocale = currentPathname.startsWith('/pt') ? 'pt' : 'en';
const content: DescriptionContent = await import(`../content/property/${currentLocale}.json`).then(module => module.default);
const { title, paragraphs } = content.description;
---

<section id="description" class="py-20 md:py-28 bg-brand-bg animate-on-scroll">
    <div class="container-custom">
        <h2 class="section-title text-center mx-auto max-w-3xl">{title}</h2>
        <div class="prose prose-xl lg:prose-2xl max-w-3xl mx-auto text-brand-light-text prose-p:leading-relaxed prose-headings:text-brand-primary">
            {paragraphs.map((paragraph, index) => (
                    <p class:list={["mb-6 text-lg md:text-xl", `animate-on-scroll animate-on-scroll-delay-${index % 3}`]}>{paragraph}</p>
            ))}
        </div>
    </div>
</section>
